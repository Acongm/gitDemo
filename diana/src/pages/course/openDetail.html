<template src="head.html" title="戴妃学院" course management></template>
<body>

	<div class="container management" id="class_management">
		<div class="pickers-box">
			<div class="popup-bg"></div>
			<div class="pickers">
				<div class="weui-form-preview__bd picker-box">
					<div class="picker picker1"><span>时间</span><i class="myicon micon-picker_btn"></i></div>
					<div class="picker picker2"><span>课程</span><i class="myicon micon-picker_btn"></i></div>
				</div>
				<div class="picker_">
					<p class="active"><span>时间升序</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>时间降序</span><i class="myicon micon-picker_ok"></i></p>
				</div>
				<div class="picker_">
					<p class="active"><span>全部课程</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
					<p><span>悦爱悦美</span><i class="myicon micon-picker_ok"></i></p>
				</div>
			</div>
		</div>
		<div class="page__bd clearing-details clearing-details_after weui-cells">
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
			<template src="cell-more.html" type="1"></template>
		</div>
	</div>
	<script>
		$(function() {
			$(".picker-box .picker").click(function() {
				var _ind = $(this).index();
				if ($(this).hasClass("active")) {
					$(this).removeClass("active");
					$(this).parents(".pickers").find(".picker_").removeClass("active");
					$(this).parents(".pickers-box").removeClass("active").prev(".state_title").css("height", '')
				} else {
					$(this).parents(".pickers-box").addClass("active").prev(".state_title").css("height", 0)
					$(this).addClass("active").siblings().removeClass("active");
					$(this).parents(".pickers").find(".picker_").eq(_ind).addClass("active").siblings().removeClass("active");
				}
			})
			$(".pickers .picker_ p").click(function() {
				$(this).addClass("active").siblings().removeClass("active");
			})
			$(".pickers-box .popup-bg").click(function() {
				$(this).parents(".pickers-box").removeClass("active").prev(".state_title").css("height", '')
				$(this).parents(".pickers-box").find(".picker_").removeClass("active");
				$(this).parents(".pickers-box").find(".picker").removeClass("active");
			})
			$(".container").scroll(function() {
				if ($(this).scrollTop() > $(".state_title").height()) {
					$(".pickers-box").addClass("picker_fixed")
				} else {
					$(".pickers-box").removeClass("picker_fixed")
				}
			});
		})
		$(function() {
			$(".container").scroll(function() {
				console.log($(this).scrollTop())
				if ($(this).scrollTop() > $(".pickers-box").height()) {
					$(".pickers-box").addClass("picker_fixed")
				} else {
					$(".pickers-box").removeClass("picker_fixed")
				}
			});
			$(".cell-more>.weui-form-preview").click(function(){
				$(this).parent().siblings().removeAttr("click-more").find(".cell-more-cender").css({height: 0})
				if($(this).parent().attr("click-more")){
					$(this).parent().removeAttr("click-more").removeClass("active");
					$(this).find(".cell-more-cender").css({height: 0})
				}else{
					$(this).parent().attr("click-more", "more").addClass("active");
					var H = $(this).find(".cell-more-cender>.weui-form-preview__item").length;
					$(this).find(".cell-more-cender").css({height: H*22})
				}
			})
		})
	</script>
</body>

</html>